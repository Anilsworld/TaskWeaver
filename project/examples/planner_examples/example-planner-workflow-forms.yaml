enabled: True
rounds:
  - user_query: Create a workflow to collect user feedback with a form and send an email
    state: created
    post_list:
      - message: Create a workflow to collect user feedback with a form and send an email
        send_from: User
        send_to: Planner
        attachment_list:
      - message: I'll create a workflow to collect feedback via form and send an email using composio_action.
        send_from: Planner
        send_to: CodeInterpreter
        attachment_list:
          - type: plan_reasoning
            content: |-
              The user wants a workflow with form collection and email. I will use input() for form fields and composio_action for sending the email.
          - type: init_plan
            content: |-
              1. Collect user feedback using input() for form fields
              2. Send email with the collected feedback using composio_action <sequentially depends on 1>
              3. Report completion to user <sequentially depends on 2>
          - type: plan
            content: |-
              1. Generate code to collect feedback and send email
              2. Report completion
          - type: current_plan_step
            content: 1. Generate code to collect feedback and send email
          - type: stop
            content: InProcess
      - message: Successfully collected feedback and sent email.
        send_from: CodeInterpreter
        send_to: Planner
        attachment_list:
          - type: thought
            content: I will use input() for form fields and composio_action for sending the email.
          - type: reply_type
            content: python
          - type: reply_content
            content: |-
              name = input("Enter your name: ")
              email = input("Enter your email: ")
              feedback = input("Enter your feedback: ")
              rating = input("Rate your experience (1-5): ")
              
              email_body = f"Feedback from {name} ({email}):\n{feedback}\nRating: {rating}/5"
              
              result, desc = composio_action(
                  "GMAIL_SEND_EMAIL",
                  {"to": "admin@example.com", "subject": f"Feedback from {name}", "body": email_body},
                  None
              )
              result
          - type: verification
            content: CORRECT
          - type: code_error
            content: No code error.
          - type: execution_status
            content: SUCCESS
          - type: execution_result
            content: Feedback collected and email sent successfully.
      - message: The workflow has been created! It collects feedback using a form, then sends an email with composio_action.
        send_from: Planner
        send_to: User
        attachment_list:
          - type: plan_reasoning
            content: |-
              The workflow successfully:
              1. Collects form data using input()
              2. Sends email using composio_action
          - type: init_plan
            content: |-
              1. Collect user feedback using input() for form fields
              2. Send email with the collected feedback using composio_action <sequentially depends on 1>
              3. Report completion to user <sequentially depends on 2>
          - type: plan
            content: |-
              1. Generate code to collect feedback and send email
              2. Report completion
          - type: current_plan_step
            content: 2. Report completion
          - type: stop
            content: Completed

